<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/logo.png">
    
    <title>Nopi Vision | ‡∏ô‡πâ‡∏≠‡∏á‡∏ö‡∏≠‡∏ó‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;700&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { --main-pink: #ffb7c5; --soft-blue: #bae1ff; }
        body { background: #fffafb; color: #555; font-family: 'Mali', cursive; margin: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; position: relative; }
        
        /* 2. Banner ‡∏≠‡∏¢‡∏π‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠ (‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á) */
        .top-left-banner { 
            position: absolute; 
            top: 20px; 
            left: 20px; 
            z-index: 50;
        }
        .top-left-banner img { 
            height: 60px; 
            border-radius: 12px; 
            border: 2px solid #ffe4e8; 
            transition: 0.3s ease;
        }
        .top-left-banner img:hover { transform: scale(1.05); box-shadow: 0 5px 15px rgba(255,183,197,0.3); }

        .circle-bg { position: absolute; background: var(--main-pink); opacity: 0.1; border-radius: 50%; z-index: -1; }
        h1 { font-family: 'Quicksand', sans-serif; font-size: 3.5rem; margin: 0; color: #ff8fa3; letter-spacing: -1px; }
        
        /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏•‡∏Ç 7 ‡∏´‡∏•‡∏±‡∏Å */
        .main-stats {
            text-align: center;
            margin: 25px 0;
            background: rgba(255, 255, 255, 0.8);
            padding: 25px 50px;
            border-radius: 40px;
            border: 1px solid #ffe4e8;
            backdrop-filter: blur(5px);
        }
        .scanned-label { font-size: 0.8rem; letter-spacing: 4px; color: #ffb7c5; font-weight: bold; margin-bottom: 5px; }
        .scanned-number { 
            font-family: monospace; 
            font-size: 4rem; 
            font-weight: 700; 
            color: #ff8fa3; 
            letter-spacing: 4px;
            text-shadow: 2px 2px 0px rgba(255,255,255,1);
        }

        .nav { margin-top: 20px; }
        .nav a { color: #ff8fa3; text-decoration: none; border: 2px solid #ffc2cd; padding: 12px 30px; margin: 0 10px; border-radius: 50px; font-weight: bold; transition: 0.3s; background: white; display: inline-block; }
        .nav a:hover { background: #ffc2cd; color: white; transform: scale(1.05); }
        
        .sub-stats { margin-top: 35px; display: flex; gap: 40px; font-size: 1.1rem; opacity: 0.8; }
        .stat-n { color: #ff8fa3; font-weight: 700; font-size: 1.3rem; }
    </style>
</head>
<body>
    <div class="top-left-banner">
        <a href="/donate">
            <img src="/banner.png" alt="Nopi Banner">
        </a>
    </div>

    <div class="circle-bg" style="width: 400px; height: 400px; top: -100px; left: -100px;"></div>
    <div class="circle-bg" style="width: 300px; height: 300px; bottom: -50px; right: -50px;"></div>
    
    <p style="letter-spacing: 5px; color: #ffb7c5; font-weight: bold;">SOFT SECURITY CORE</p>
    <h1>NOPI VISION</h1>

    <div class="main-stats">
        <div class="scanned-label">IMAGES PROTECTED</div>
        <div id="h_scanned" class="scanned-number">0,000,000</div>
    </div>

    <div class="nav">
        <a href="/invite">INVITE</a>
        <a href="/dashboard">DASHBOARD</a>
        <a href="/donate">DONATE</a>
    </div>

    <div class="sub-stats">
        <div>‚òÅÔ∏è <span class="stat-n" id="h_servers">0</span> SERVERS</div>
        <div>üå∏ <span class="stat-n" id="h_deleted">0</span> DELETED</div>
    </div>
    
    <div style="margin-top: 40px; font-size: 0.8rem; opacity: 0.6;">
        <a href="/privacy" style="color:#ff8fa3">Privacy</a> | <a href="/terms" style="color:#ff8fa3">Terms</a>
    </div>

    <script>
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ß‡∏¥‡πà‡∏á ‡∏•‡πá‡∏≠‡∏Ñ 7 ‡∏´‡∏•‡∏±‡∏Å
        function animateScanned(id, endValue) {
            const el = document.getElementById(id);
            let start = 0;
            const duration = 2500; // ‡∏ß‡∏¥‡πà‡∏á 2.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Ease out function ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏Ç‡∏ä‡πâ‡∏≤‡∏•‡∏á‡∏ï‡∏≠‡∏ô‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
                const easeOut = 1 - Math.pow(1 - progress, 3);
                const current = Math.floor(easeOut * endValue);
                
                el.innerText = current.toLocaleString('en-US', {
                    minimumIntegerDigits: 7,
                    useGrouping: true
                });

                if (progress < 1) requestAnimationFrame(update);
            }
            requestAnimationFrame(update);
        }

        async function loadData() {
            try {
                const res = await fetch('/api/get-stats');
                const s = await res.json();
                
                // ‡πÄ‡∏£‡∏¥‡πà‡∏° Animation ‡πÄ‡∏•‡∏Ç 7 ‡∏´‡∏•‡∏±‡∏Å
                animateScanned('h_scanned', s.total_scanned);
                
                document.getElementById('h_servers').innerText = s.server_count.toLocaleString();
                document.getElementById('h_deleted').innerText = s.total_deleted.toLocaleString();
            } catch(e) { 
                console.log("Load error"); 
                document.getElementById('h_scanned').innerText = "0,000,000";
            }
        }
        
        window.onload = loadData;
    </script>
</body>
</html>
