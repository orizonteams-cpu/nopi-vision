<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>Nopi Vision | Command Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Bai+Jamjuree:wght@300;600&display=swap" rel="stylesheet">
    <style>
        :root { --cyan: #00f2ff; --red: #ff0055; --dark: #05060a; }
        body { background: var(--dark); color: white; font-family: 'Orbitron', sans-serif; margin: 0; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; max-width: 1200px; margin: 40px auto; }
        .card { border: 1px solid rgba(0,242,255,0.1); background: rgba(255,255,255,0.02); padding: 20px; border-radius: 5px; position: relative; }
        .card::before { content: ""; position: absolute; top: 0; left: 0; width: 10px; height: 10px; border-top: 2px solid var(--cyan); border-left: 2px solid var(--cyan); }
        .label { color: #555; font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px; }
        .val { font-size: 1.8rem; font-weight: bold; }
        .bar-bg { width: 100%; height: 5px; background: #111; margin-top: 15px; }
        .bar-fill { height: 100%; background: var(--cyan); width: 0%; transition: 1s; box-shadow: 0 0 10px var(--cyan); }
        nav { text-align: center; margin-bottom: 30px; }
        nav a { color: var(--cyan); text-decoration: none; margin: 0 15px; font-size: 0.8rem; opacity: 0.6; }
        nav a:hover { opacity: 1; }
    </style>
</head>
<body>
    <nav><a href="/">HOME</a> | <a href="/dashboard">DASHBOARD</a> | <a href="/invite">INVITE</a></nav>
    <h1 style="text-align:center; letter-spacing:10px;">SYSTEM MONITOR</h1>

    <div class="grid">
        <div class="card"><div class="label">Total Deleted</div><div class="val" style="color:var(--red)" id="total_deleted">0</div></div>
        <div class="card"><div class="label">Servers</div><div class="val" id="server_count">0</div></div>
        <div class="card"><div class="label">Users</div><div class="val" id="user_count">0</div></div>

        <div class="card"><div class="label">Bot CPU Model</div><div class="val" style="font-size:1rem" id="bot_cpu_model">Loading...</div></div>
        <div class="card">
            <div class="label">Bot RAM Usage</div>
            <div class="val"><span id="bot_mem_used">0</span> / <span id="bot_mem_total">0</span> GB</div>
            <div class="bar-bg"><div id="memBar" class="bar-fill"></div></div>
        </div>
        <div class="card"><div class="label">CPU Temp</div><div class="val"><span id="bot_cpu_temp">0</span>Â°C</div></div>
        <div class="card"><div class="label">Bot OS</div><div class="val" style="font-size:1rem" id="bot_os">-</div></div>
        <div class="card"><div class="label">Uptime</div><div class="val"><span id="bot_uptime">0</span> <span style="font-size:0.8rem">Hrs</span></div></div>
    </div>

    <script>
        async function sync() {
            try {
                const res = await fetch('/api/get-stats');
                const s = await res.json();
                document.getElementById('total_deleted').innerText = s.total_deleted.toLocaleString();
                document.getElementById('server_count').innerText = s.server_count.toLocaleString();
                document.getElementById('user_count').innerText = s.user_count.toLocaleString();
                document.getElementById('bot_cpu_model').innerText = s.bot_cpu_model;
                document.getElementById('bot_cpu_temp').innerText = s.bot_cpu_temp;
                document.getElementById('bot_mem_used').innerText = s.bot_mem_used;
                document.getElementById('bot_mem_total').innerText = s.bot_mem_total;
                document.getElementById('memBar').style.width = s.bot_mem_percent + "%";
                document.getElementById('bot_os').innerText = s.bot_os;
                document.getElementById('bot_uptime').innerText = s.bot_uptime;
            } catch(e) { console.error("Sync Error"); }
        }
        setInterval(sync, 5000); sync();
    </script>
</body>
</html>
